<!DOCTYPE html>
<html>
  <head>
    <title>FizzBuzz</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/stylesheets/style.css">
  </head>
  <body style="background-color: #f2f2f2;">
  <%- include('header')-%>
  <% if(message.length!==0) { %>
    <div class="alert alert-success alert-dismissible fade show m-3">
      <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
      <strong><%= message[0] %></strong>
    </div>
    <%}%>
    <div class="row" style="margin: 50px;">
        <div style="display: inline; width: 60%; background-color: white;">
            <br>
            <h2 style="text-align: center;">Edit Your Personal Info</h2>
            <br>
            <form action="personal" method="post">
                <div class="mb-3">
                    <label for="name" class="form-label">Username</label>
                    <input type="text" class="form-control" id="name" aria-describedby="nameHelp" name="name" placeholder="Enter Username" value="<%= user.name%>">
                    <% if(name.length!==0) { %>
                        <div id="nameHelp" class="form-text text-danger"><%= name[0]%></div>
                    <%}%>
                </div>
                <div class="mb-3">
                    <label for="mobile" class="form-label">Mobile</label>
                    <input type="text" class="form-control" id="mobile" aria-describedby="mobileHelp" name="mobile" placeholder="Enter your mobile number" value="<%= user.mobile%>">
                    <% if(mobile.length!==0) { %>
                        <div id="mobileHelp" class="form-text text-danger"><%= mobile[0]%></div>
                    <%}%>
                </div><br>
                <h4>Address</h4>
                <% if(address.length!==0) { %>
                    <div id="addressHelp" class="form-text text-danger"><%= address[0]%></div>
                <%}%>
                <div class="mb-3">
                    <label for="area" class="form-label">Locality/Area</label>
                    <input type="text" class="form-control" id="area" aria-describedby="emailHelp" name="area" placeholder="Enter your Locality" value="<%= user.address ? user.address.area || '' : '' %>">
                    <!-- <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div> -->
                </div>
                <div class="mb-3">
                    <label for="city" class="form-label">City</label>
                    <input type="text" class="form-control" id="city" aria-describedby="emailHelp" name="city" placeholder="Enter your city" value="<%= user.address ? user.address.city || '' : '' %>">
                    <!-- <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div> -->
                </div>
                <div class="mb-3">
                    <label for="state" class="form-label">State</label>
                    <input type="text" class="form-control" id="state" aria-describedby="emailHelp" name="state" placeholder="Enter your state" value="<%= user.address ? user.address.state || '' : '' %>">
                    <!-- <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div> -->
                </div>
                
                <button type="submit" class="btn btn-primary">Submit</button>
                <br>
                <br>
            </form>
        </div>
        <div style="float: right; width: 30%; margin-left: 10%; height: max-content;" class="bg-dark">
            <div>
                <a href="credentials" class="btn btn-dark " style="width: 100%;">Edit Credentials</a>
                <a href="personal" class="btn btn-dark " style="width: 100%;">Edit Personal Info</a>
                <a href="banking" class="btn btn-dark " style="width: 100%;">Edit Banking</a>
            </div>
        </div>
    </div>
  <%- include('footer') -%>
  </body>
</html>